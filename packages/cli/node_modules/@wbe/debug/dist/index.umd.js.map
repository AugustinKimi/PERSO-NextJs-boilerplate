{"version":3,"file":"index.umd.js","sources":["../src/couleur.ts","../src/helpers.ts","../src/debug.ts","../src/index.ts"],"sourcesContent":["/**\n * couleur util API\n */\nfunction initCouleur() {\n  const _close = \"\\u001B[39m\"\n\n  /**\n   * Wrapper for ansi 256 code\n   * @param code\n   */\n  const _wrapAnsi256 = (code) => `\\u001B[${38};5;${code}m`\n\n  /**\n   * Convert RGB color to ansi 256\n   * @param red\n   * @param green\n   * @param blue\n   */\n  const _rgbToAnsi256 = (red: number, green: number, blue: number): number => {\n    if (red === green && green === blue) {\n      if (red < 8) return 16\n      if (red > 248) return 231\n      return Math.round(((red - 8) / 247) * 24) + 232\n    }\n    return (\n      16 +\n      36 * Math.round((red / 255) * 5) +\n      6 * Math.round((green / 255) * 5) +\n      Math.round((blue / 255) * 5)\n    )\n  }\n\n  /**\n   * Color string with rbg color\n   * ex: couleur.rbg(255,0,0)('foo')\n   */\n  const rgb =\n    (r: number, g: number, b: number) =>\n    (str: string): string =>\n      _wrapAnsi256(_rgbToAnsi256(r, g, b)) + str + _close\n\n  /**\n   * Bold text\n   * @param str\n   */\n  const bold = (str: string): string => \"\\x1B[1m\" + str + \"\\x1B[22m\"\n\n  return {\n    rgb,\n    bold,\n  }\n}\n\nconst couleur = initCouleur()\nexport default couleur\n","/**\n * Check if is browser env\n */\nexport const isBrowser: boolean = !!(typeof window != \"undefined\" && window.document)\n\n/**\n * Transform string to RGB\n * @param str\n */\nexport function stringToRgb(str: string):[number, number, number] {\n  let hash = 0\n  for (let i = 0; i < str.length; i++) {\n    let character = str.charCodeAt(i)\n    hash = ((hash << 5) - hash) + character\n    hash = Math.abs(hash & hash)\n  }\n  const r = (hash & 0xFF0000) >> 16\n  const g = (hash & 0x00FF00) >> 8\n  const b = hash & 0x0000FF\n  return [r, g, b]\n}\n","import couleur from \"./couleur\"\nimport { isBrowser, stringToRgb } from \"./helpers\"\n\n/**\n * debug\n */\nexport const debug = (namespace?: string) => (...rest: any[]): void =>\n{\n  const rgb = stringToRgb(namespace)\n\n  const showLog = (value: string): boolean =>\n    value?.includes(\":*\")\n      ? namespace.startsWith( value.split(\":*\")[0])\n      : value === namespace || value === \"*\"\n\n  if (isBrowser)\n  {\n    showLog(localStorage.getItem(\"debug\"))\n    &&\n    console.log(\n      namespace && `%c${namespace}`, `color: rgb(${rgb[0]}, ${rgb[1]}, ${rgb[2]})`,\n      ...rest\n    )\n  }\n  else\n  {\n    showLog(process.env.DEBUG)\n    &&\n    console.log(\n      namespace && couleur.bold(couleur.rgb(rgb[0], rgb[1], rgb[2])(namespace)),\n      ...rest\n    )\n  }\n}\n\n","/**\n * Export to be able to require module in node/browser env\n *\n * Usage ex:\n *\n *  const debug = require(\"@wbe/debug\")(\"namespace\")\n *  // ...\n *  debug(\"...\")\n *\n */\nimport { debug } from \"./debug\"\nif (typeof module != \"undefined\") module.exports = debug\n\n/**\n * Export as es6 module\n *\n * Usage ex:\n *\n *  import debug from \"@wbe/debug\"\n *  const log = debug(\"namespace\")\n *  // ...\n *  log(\"...\")\n *\n */\nexport { debug as default } from \"./debug\"\n"],"names":["couleur","r","g","b","str","blue","red","green","round","Math","isBrowser","window","document","stringToRgb","hash","i","length","charCodeAt","abs","debug","namespace","rest","showLog","slice","call","arguments","value","includes","startsWith","split","localStorage","getItem","console","log","apply","_console","rgb","process","env","DEBUG","_console2","module","exports"],"mappings":"wNAqDA,IAAaA,EAhBT,SAACC,EAAWC,EAAWC,GAAS,gBAC/BC,GAAW,OApBqCC,EAqBdF,cArBdG,EAqBQL,MArBKM,EAqBFL,IApBXK,IAAUF,EACzBC,EAAM,EAAY,GAClBA,EAAM,aACEE,OAAQF,EAAM,GAAK,IAAO,IAAM,OAI5C,GAAKG,KAAKD,MAAOF,EAAM,IAAO,GAC9B,EAAIG,KAAKD,MAAOD,EAAQ,IAAO,GAC/BE,KAAKD,MAAOH,EAAO,IAAO,IAlB0B,IA6BbD,EAnC5B,QAMM,IAQEE,EAAaC,EAAeF,CAqBI,CAMvD,EAQWL,EARE,SAACI,SAAwB,OAAYA,EAAM,OAAU,EC1C9CM,IAAgC,oBAAJC,SAAmBA,OAAOC,UAMtE,SAAqBC,EAACT,GAE1B,IADA,IAAIU,EAAO,EACDC,EAAG,EAAGA,EAAIX,EAAIY,OAAQD,IAE9BD,GAASA,GAAQ,GAAKA,EADNV,EAAIa,WAAWF,GAE/BD,EAAOL,KAAKS,IAAIJ,EAAOA,GAKzB,MAAO,EAHW,SAAPA,IAAoB,IACb,MAAPA,IAAoB,EACd,IAAPA,EAEZ,CCdkB,IAAAK,EAAG,SAACC,GAAkB,kBAASC,MAoB7CC,EApB6CD,EAE/C,GAAAE,MAAAC,KAAAC,aAAYZ,EAAYO,KAER,SAACM,GACfA,aAAAA,GAAAA,EAAOC,SAAS,MACZP,EAAUQ,WAAYF,EAAMG,MAAM,MAAM,IACxCH,IAAUN,GAAuB,MAAVM,CAAa,EAEtChB,EAEFY,EAAQQ,aAAaC,QAAQ,YAE7BC,EAAAA,SAAQC,IAAGC,MAAAC,EAAA,CACTf,GAAS,KAASA,EAA2BgB,cAAAA,EAAI,GAAOA,KAAAA,EAAI,GAAOA,KAAAA,EAAI,GACpEf,KAAAA,OAAAA,IAKLC,EAAQe,QAAQC,IAAIC,WAEpBP,SAAQC,IAAGC,MAAAM,EAAA,CACTpB,GAAapB,EAAaA,EAAYoC,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAhCpC,CAAoCoB,YAC3DC,GAGT,CAAC,QCtBoB,oBAAVoB,SAAuBA,OAAOC,QAAUvB"}