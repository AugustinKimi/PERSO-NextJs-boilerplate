{"version":3,"file":"index.modern.mjs","sources":["../src/couleur.ts","../src/helpers.ts","../src/debug.ts","../src/index.ts"],"sourcesContent":["/**\n * couleur util API\n */\nfunction initCouleur() {\n  const _close = \"\\u001B[39m\"\n\n  /**\n   * Wrapper for ansi 256 code\n   * @param code\n   */\n  const _wrapAnsi256 = (code) => `\\u001B[${38};5;${code}m`\n\n  /**\n   * Convert RGB color to ansi 256\n   * @param red\n   * @param green\n   * @param blue\n   */\n  const _rgbToAnsi256 = (red: number, green: number, blue: number): number => {\n    if (red === green && green === blue) {\n      if (red < 8) return 16\n      if (red > 248) return 231\n      return Math.round(((red - 8) / 247) * 24) + 232\n    }\n    return (\n      16 +\n      36 * Math.round((red / 255) * 5) +\n      6 * Math.round((green / 255) * 5) +\n      Math.round((blue / 255) * 5)\n    )\n  }\n\n  /**\n   * Color string with rbg color\n   * ex: couleur.rbg(255,0,0)('foo')\n   */\n  const rgb =\n    (r: number, g: number, b: number) =>\n    (str: string): string =>\n      _wrapAnsi256(_rgbToAnsi256(r, g, b)) + str + _close\n\n  /**\n   * Bold text\n   * @param str\n   */\n  const bold = (str: string): string => \"\\x1B[1m\" + str + \"\\x1B[22m\"\n\n  return {\n    rgb,\n    bold,\n  }\n}\n\nconst couleur = initCouleur()\nexport default couleur\n","/**\n * Check if is browser env\n */\nexport const isBrowser: boolean = !!(typeof window != \"undefined\" && window.document)\n\n/**\n * Transform string to RGB\n * @param str\n */\nexport function stringToRgb(str: string):[number, number, number] {\n  let hash = 0\n  for (let i = 0; i < str.length; i++) {\n    let character = str.charCodeAt(i)\n    hash = ((hash << 5) - hash) + character\n    hash = Math.abs(hash & hash)\n  }\n  const r = (hash & 0xFF0000) >> 16\n  const g = (hash & 0x00FF00) >> 8\n  const b = hash & 0x0000FF\n  return [r, g, b]\n}\n","import couleur from \"./couleur\"\nimport { isBrowser, stringToRgb } from \"./helpers\"\n\n/**\n * debug\n */\nexport const debug = (namespace?: string) => (...rest: any[]): void =>\n{\n  const rgb = stringToRgb(namespace)\n\n  const showLog = (value: string): boolean =>\n    value?.includes(\":*\")\n      ? namespace.startsWith( value.split(\":*\")[0])\n      : value === namespace || value === \"*\"\n\n  if (isBrowser)\n  {\n    showLog(localStorage.getItem(\"debug\"))\n    &&\n    console.log(\n      namespace && `%c${namespace}`, `color: rgb(${rgb[0]}, ${rgb[1]}, ${rgb[2]})`,\n      ...rest\n    )\n  }\n  else\n  {\n    showLog(process.env.DEBUG)\n    &&\n    console.log(\n      namespace && couleur.bold(couleur.rgb(rgb[0], rgb[1], rgb[2])(namespace)),\n      ...rest\n    )\n  }\n}\n\n","/**\n * Export to be able to require module in node/browser env\n *\n * Usage ex:\n *\n *  const debug = require(\"@wbe/debug\")(\"namespace\")\n *  // ...\n *  debug(\"...\")\n *\n */\nimport { debug } from \"./debug\"\nif (typeof module != \"undefined\") module.exports = debug\n\n/**\n * Export as es6 module\n *\n * Usage ex:\n *\n *  import debug from \"@wbe/debug\"\n *  const log = debug(\"namespace\")\n *  // ...\n *  log(\"...\")\n *\n */\nexport { debug as default } from \"./debug\"\n"],"names":["isBrowser","window","document","debug","namespace","rest","rgb","str","hash","i","length","charCodeAt","Math","abs","stringToRgb","showLog","value","includes","startsWith","split","r","g","b","localStorage","getItem","console","log","process","env","DEBUG","_wrapAnsi256","blue","red","green","round","code","module","exports"],"mappings":"AAqDA,MClDsBA,IAAgC,oBAAJC,SAAmBA,OAAOC,UCG1DC,EAAIC,GAAuB,IAAIC,KAE/C,MAASC,EDCL,SAAsBC,GAC1B,IAAIC,EAAO,EACX,IAAK,IAAKC,EAAG,EAAGA,EAAIF,EAAIG,OAAQD,IAE9BD,GAASA,GAAQ,GAAKA,EADND,EAAII,WAAWF,GAE/BD,EAAOI,KAAKC,IAAIL,EAAOA,GAKzB,MAAO,EAHW,SAAPA,IAAoB,IACb,MAAPA,IAAoB,EACd,IAAPA,EAEZ,CCZcM,CAAYV,GAEXW,EAAIC,SACfA,GAAAA,EAAOC,SAAS,MACZb,EAAUc,WAAYF,EAAMG,MAAM,MAAM,IACxCH,IAAUZ,GAAuB,MAAVY,EFgCfT,IARXa,EAAWC,EAAWC,EEtBrBtB,EAEFe,EAAQQ,aAAaC,QAAQ,WAE7BC,QAAQC,IACNtB,GAAa,KAAKA,IAAa,cAAcE,EAAI,OAAOA,EAAI,OAAOA,EAAI,SACpED,GAKLU,EAAQY,QAAQC,IAAIC,QAEpBJ,QAAQC,IACNtB,GFgBkC,QARnCgB,EERuCd,EAAI,GFQhCe,EERoCf,EAAI,GFQ7BgB,EERiChB,EAAI,GFS3DC,IACCuB,OArB+CC,EAqBdT,EA7BN,WAQRU,EAqBQZ,MArBKa,EAqBFZ,IApBXY,IAAUF,EACzBC,EAAM,EAAU,GAChBA,EAAM,IAAY,IACfpB,KAAKsB,OAAQF,EAAM,GAAK,IAAO,IAAM,OAI5C,GAAKpB,KAAKsB,MAAOF,EAAM,IAAO,GAC9B,EAAIpB,KAAKsB,MAAOD,EAAQ,IAAO,GAC/BrB,KAAKsB,MAAOH,EAAO,IAAO,MAWaxB,EAnC5B,QAMO4B,IAQCH,EAAaC,EAAeF,CAqBI,GEVW3B,GFgBV,WEfjDC,EAEN,ECrBkB,oBAAV+B,SAAuBA,OAAOC,QAAUlC"}